(this.webpackJsonpok_order=this.webpackJsonpok_order||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},15:function(e,t,a){},17:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),o=(a(15),a(1)),s=a.n(o),i=a(3),u=a(6),d=a(7),h=a(9),m=a(8),p=a(2),f=(a(17),a(18),"https://hn.algolia.com/api/v1/search_by_date?tags=story&page=");function v(){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(s.a.mark((function e(){var t,a,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,fetch(t,{method:"GET"});case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],articles:[],currentPage:0,scrollPageCount:1,searchInput:"",isModal:!1},e.searchInputHandler=function(t){var a=t.target.value;e.setState({searchInput:a})},e.filterFunc=function(t){var a=e.state.searchInput;return-1!=(t.title||"").toLowerCase().indexOf(a)||-1!=(t.url||"").toLowerCase().indexOf(a)||-1!=(t.author||"").toLowerCase().indexOf(a)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(s.a.mark((function e(){var t,a,n,r,c=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f+this.state.currentPage);case 2:t=e.sent,this.setState({articles:t.hits}),setInterval(Object(p.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.state.currentPage+1,e.next=3,v(f+t);case 3:a=e.sent,c.setState({articles:[].concat(Object(i.a)(c.state.articles),Object(i.a)(a.hits)),currentPage:t});case 5:case"end":return e.stop()}}),e)}))),1e4),a={root:null,rootMargin:"0px",threshold:.5},n=document.getElementById("lastMarker"),new IntersectionObserver((function(e){e[0].intersectionRatio<=0||c.setState({scrollPageCount:c.state.scrollPageCount+1})}),a).observe(n),r=document.getElementById("myModal"),document.getElementsByClassName("close")[0].onclick=function(){r.style.display="none"},window.onclick=function(e){e.target==r&&(r.style.display="none")};case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=(t.data,t.articles),n=t.scrollPageCount,c=t.searchInput,l=t.selectedRowIndex;t.isModal;return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement("h3",null," search:  "),r.a.createElement("input",{type:"text",value:c,onChange:this.searchInputHandler,placeholder:"search by title, author or URL here"})),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"title"),r.a.createElement("th",null,"URL"),r.a.createElement("th",null,"created_at"),r.a.createElement("th",null,"author"))),r.a.createElement("tbody",null,(a.slice(0,10*n-1)||[]).filter(this.filterFunc).map((function(t,a){var n=t.title,c=t.url,l=t.created_at,o=t.author;return r.a.createElement("tr",{onClick:function(){document.getElementById("myModal").style.display="block",e.setState({isModal:!0,selectedRowIndex:a})},key:n+e.state.currentPage},r.a.createElement("td",null,n),r.a.createElement("td",null,c),r.a.createElement("td",null,new Date(l).toString()),r.a.createElement("td",null,o))})))),r.a.createElement("div",{id:"lastMarker",style:{height:10,backgroundColor:"red"}}),r.a.createElement("div",{id:"myModal",class:"modal"},r.a.createElement("span",{className:"close"},"X"),r.a.createElement("div",{class:"modal-content"},JSON.stringify(a.filter(this.filterFunc)[l]||{}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.d99d7542.chunk.js.map